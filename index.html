<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Prof Dali Nadjib</title>
<style>
    body {
        background-color: #121212;
        color: #fff;
        font-family: Arial, sans-serif;
        direction: rtl;
        margin: 0;
        padding: 0;
    }
    header {
        background-color: #1f1f1f;
        padding: 15px;
        text-align: center;
        font-size: 28px;
        font-weight: bold;
        color: #00ffcc;
    }
    .container {
        padding: 20px;
    }
    input, select, button {
        margin: 5px 0;
        padding: 6px;
        border-radius: 5px;
        border: none;
        font-size: 16px;
    }
    button {
        cursor: pointer;
        background: #00ffcc;
        color: #121212;
        font-weight: bold;
        margin-right: 5px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
        table-layout: fixed;
    }
    th, td {
        border: 1px solid #444;
        padding: 6px;
        text-align: center;
        word-wrap: break-word;
    }
    th {
        background-color: #333;
    }
    td[contenteditable="true"] {
        background-color: #222;
    }
    .btn-group {
        margin-top: 15px;
    }
</style>
</head>
<body>

<header>AI Prof Dali Nadjib</header>
<div class="container">
    <h3>إعدادات المؤسسة</h3>
    <label>اسم المؤسسة:</label>
    <input type="text" id="schoolName" placeholder="ادخل اسم المؤسسة">
    <br>
    <label>عدد الأقسام:</label>
    <input type="number" id="numClasses" min="1" max="20" value="13">
    <br>
    <div class="btn-group">
        <button onclick="fillSchool()">مؤسستي</button>
        <button onclick="resetSchool()">إعادة تعيين</button>
        <button onclick="generateAll()">توليد جميع الجداول</button>
        <button onclick="generateAll(true)">احتمالية جديدة</button>
    </div>

    <h3>جدول الأساتذة</h3>
    <table id="teacherTable">
        <thead>
            <tr>
                <th>اسم الأستاذ</th>
                <th>المادة</th>
                <th>عدد الأقسام</th>
                <th>عدد الساعات</th>
                <th>إجراء</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <button onclick="addTeacher()">إضافة أستاذ</button>

    <h3>جدول التلاميذ</h3>
    <table id="studentTable">
        <thead>
            <tr>
                <th>القسم</th>
                <th>المادة</th>
                <th>الأستاذ</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <h3>الجدول الكلي للمؤسسة</h3>
    <table id="schoolTable">
        <thead>
            <tr>
                <th>اليوم</th>
                <th>الحصة 1</th>
                <th>الحصة 2</th>
                <th>الحصة 3</th>
                <th>الحصة 4</th>
                <th>الحصة 5</th>
                <th>الحصة 6</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script>
// =================== بيانات الأساتذة الافتراضية ===================
const defaultTeachers = [
    {name:"دالي نجيب",subject:"رياضيات",classes:4,hours:20,days:[0,4]}, 
    {name:"بن بارش منيرة",subject:"رياضيات",classes:4,hours:20,days:[0,4]}, 
    {name:"رقيق رمزي",subject:"رياضيات",classes:4,hours:20,days:[0,4]},
    {name:"اللغة غريبة",subject:"عربية",classes:4,hours:20,days:[1,2]}, 
    {name:"مروة",subject:"عربية",classes:4,hours:20,days:[1,2]},
    {name:"صبرينة",subject:"عربية",classes:4,hours:20,days:[1,2]},
    {name:"أسيا",subject:"عربية",classes:4,hours:20,days:[1,2]},
    {name:"زينب",subject:"فرنسية",classes:4,hours:16,days:[2]}, 
    {name:"سعيدة",subject:"فرنسية",classes:4,hours:16,days:[2]},
    {name:"العيد",subject:"فرنسية",classes:4,hours:16,days:[2]},
    {name:"سارة",subject:"إنجليزية",classes:4,hours:8,days:[2]}, 
    {name:"سلمى",subject:"إنجليزية",classes:4,hours:8,days:[2]},
    {name:"بوبكر",subject:"علوم طبيعية",classes:4,hours:8,days:[3]}, 
    {name:"هشام",subject:"علوم طبيعية",classes:4,hours:8,days:[3]},
    {name:"أمينة",subject:"علوم طبيعية",classes:4,hours:8,days:[3]},
    {name:"وسيلة",subject:"فيزياء",classes:4,hours:8,days:[3]}, 
    {name:"فتيحة",subject:"فيزياء",classes:4,hours:8,days:[3]},
    {name:"عبد الرزاق",subject:"علوم فيزيائية",classes:4,hours:8,days:[3]}, 
    {name:"بلوطار",subject:"علوم فيزيائية",classes:4,hours:8,days:[3]},
    {name:"شيماء",subject:"علوم فيزيائية",classes:4,hours:8,days:[3]},
    {name:"علاء",subject:"رياضة",classes:4,hours:8,days:[2]}, 
    {name:"خير الدين",subject:"رياضة",classes:4,hours:8,days:[2]},
    {name:"سهام",subject:"تربية اسلامية",classes:4,hours:4,days:[1]},
    {name:"شهرة",subject:"اعلام الي",classes:4,hours:8,days:[2]},
    {name:"سيف",subject:"رسم",classes:4,hours:4,days:[4]},
    {name:"وداد",subject:"تاريخ وجغرافيا وتربية مدنية",classes:4,hours:8,days:[0]}, 
    {name:"عائشة",subject:"تاريخ وجغرافيا وتربية مدنية",classes:4,hours:8,days:[0]},
    {name:"فاطمة",subject:"تاريخ وجغرافيا وتربية مدنية",classes:4,hours:8,days:[0]}
];

// =================== دوال التفاعل ===================

// حذف صف
function deleteRow(btn){
    btn.parentElement.parentElement.remove();
}

// إضافة أستاذ
function addTeacher(){
    const tbody = document.querySelector("#teacherTable tbody");
    const tr = document.createElement("tr");
    tr.innerHTML = `
        <td contenteditable>أدخل الاسم</td>
        <td contenteditable>المادة</td>
        <td contenteditable>عدد الأقسام</td>
        <td contenteditable>عدد الساعات</td>
        <td><button onclick="deleteRow(this)">حذف</button></td>
    `;
    tbody.appendChild(tr);
}

// إعادة تعيين كل الجداول
function resetSchool(){
    document.querySelector("#teacherTable tbody").innerHTML="";
    document.querySelector("#studentTable tbody").innerHTML="";
    document.querySelector("#schoolTable tbody").innerHTML="";
}

// ملء جدول الأساتذة تلقائيًا
function fillSchool(){
    const tbody = document.querySelector("#teacherTable tbody");
    tbody.innerHTML = "";
    defaultTeachers.forEach((t)=>{
        const tr = document.createElement("tr");
        tr.innerHTML = `
            <td contenteditable>${t.name}</td>
            <td contenteditable>${t.subject}</td>
            <td contenteditable>${t.classes}</td>
            <td contenteditable>${t.hours}</td>
            <td><button onclick="deleteRow(this)">حذف</button></td>
        `;
        tbody.appendChild(tr);
    });
    alert("تم ملء جدول المؤسسة تلقائياً");
}

// =================== توليد الجداول ===================
function generateAll(random=false){
    generateStudentTable(random);
    generateSchoolTable(random);
}

// توليد جدول التلاميذ
function generateStudentTable(random){
    const tbody = document.querySelector("#studentTable tbody");
    tbody.innerHTML = "";
    const numClasses = parseInt(document.getElementById("numClasses").value) || 13;
    defaultTeachers.forEach(t=>{
        for(let c=1;c<=t.classes;c++){
            tbody.innerHTML += `<tr>
                <td>القسم ${c}</td>
                <td>${t.subject}</td>
                <td>${t.name}</td>
            </tr>`;
        }
    });
}

// توليد الجدول الكلي للمؤسسة
function generateSchoolTable(random){
    const tbody = document.querySelector("#schoolTable tbody");
    tbody.innerHTML = "";
    const days = ["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس"];
    const periods = 6;
    const subjectsByDay = {
        0:["تاريخ وجغرافيا وتربية مدنية","رياضيات"],
        1:["عربية","تربية اسلامية"],
        2:["فرنسية","إنجليزية","رياضة","اعلام الي"],
        3:["علوم طبيعية","فيزياء","علوم فيزيائية"],
        4:["رياضيات","رسم"]
    };

    for(let d=0;d<days.length;d++){
        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${days[d]}</td>`;
        for(let p=0;p<periods;p++){
            // اختيار مادة عشوائية ضمن المواد المتاحة لليوم
            let daySubjects = subjectsByDay[d];
            let subject = daySubjects[Math.floor(Math.random()*daySubjects.length)];
            // اختيار أستاذ عشوائي لهذه المادة
            let teacherList = defaultTeachers.filter(t=>t.subject==subject && t.days.includes(d));
            let teacher = teacherList[Math.floor(Math.random()*teacherList.length)];
            tr.innerHTML += `<td contenteditable>${subject} (${teacher ? teacher.name : ""})</td>`;
        }
        tbody.appendChild(tr);
    }
}
</script>

</body>
</html>
